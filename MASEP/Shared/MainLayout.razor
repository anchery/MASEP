@inherits LayoutComponentBase
@inject AuthenticationStateProvider _auth
@inject NavigationManager navigationManager

<div class="main">

    <AuthorizeView>
        <Authorized>
            <div class="main shadow p-3 mb-2 bg-white rounded">
                <div class="d-flex top-row">
                    <div class="p-2">
                        <h2>
                            MASEP Registration Form
                        </h2>
                        <h7 class="special">Data from MASEP participants is used for research purposes ONLY.</h7><br />
                        <h7 class="special">Your personal information is NEVER shared with any individuals or agencies outside MASEP.</h7>
                    </div>
                    <div class="d-flex flex-column mt-auto ml-auto">
                        <label>@context.User.Identity.Name</label>
                        <a href="/" @onclick="Logout">Logout</a>
                    </div>
                </div>
            </div>
        </Authorized>
        <NotAuthorized>
            <div class="main shadow p-3 mb-2 bg-white rounded">
                <div class="d-flex top-row">
                    <div class="p-2">
                        <h2>
                            MASEP Registration Form
                        </h2>
                        <h7 class="special">Data from MASEP participants is used for research purposes ONLY.</h7><br />
                        <h7 class="special">Your personal information is NEVER shared with any individuals or agencies outside MASEP.</h7>
                    </div>
                    @*<div class="ml-auto" style="margin-top:auto;">
                        <a href="/" target="_self">x</a>
                    </div>*@
                </div>
            </div>
        </NotAuthorized>
    </AuthorizeView>
    @*<div class="container" 
       
       style="
        width: 100%;
        vertical-align: middle;
        margin: 0;
        /*top:50%; vertical align item to middle*/
        position:absolute;">
        @Body
    </div>*@
<div class="main p-1 mb-2 bg-white rounded">
    @Body
</div>
</div>

@code{

    private void Logout()
    {
        ((AuthStateProvider)_auth).LogoutUser();
        navigationManager.NavigateTo("/");
    }
}